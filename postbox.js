(function (cjs, an) {

var p; // shortcut to reference prototypes
var lib={};var ss={};var img={};
lib.ssMetadata = [
		{name:"postbox_atlas_", frames: [[3860,2207,1844,1203],[0,2594,1713,1097],[7227,1986,900,1200],[7983,842,189,267],[7836,3836,250,185],[4958,3944,375,515],[5479,3828,229,206],[4145,0,1638,2074],[5479,3412,229,206],[7942,1742,229,206],[5479,3620,229,206],[7983,1111,80,208],[8065,1172,50,77],[7299,1742,340,176],[7299,1920,215,43],[7641,1742,299,199],[3443,3571,330,292],[1715,3571,574,848],[4112,3944,362,727],[3860,3412,1617,530],[8141,101,39,39],[8141,0,49,50],[5335,4067,449,260],[7227,3188,850,646],[0,3693,726,628],[7836,4023,250,174],[2291,3571,574,848],[2867,3571,574,848],[4145,2076,215,43],[4362,2076,215,43],[8141,52,47,47],[8065,1111,76,59],[7299,842,682,898],[3443,3944,667,397],[7299,0,840,840],[7227,3836,607,611],[1938,0,2205,2205],[1938,2207,1920,1362],[728,3693,800,500],[0,0,1936,2592],[4476,3944,480,480],[5785,1986,1440,2079],[5785,0,1512,1984]]}
];


// symbols:



(lib._302239P7ORWO697_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();



(lib._312795P8IB42542_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();



(lib.BenGurion_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(2);
}).prototype = p = new cjs.Sprite();



(lib.Bitmap40 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(3);
}).prototype = p = new cjs.Sprite();



(lib.Bitmap41 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(4);
}).prototype = p = new cjs.Sprite();



(lib.Bitmap54 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(5);
}).prototype = p = new cjs.Sprite();



(lib.boxyellow = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(6);
}).prototype = p = new cjs.Sprite();



(lib.David_Elazar_Dado_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(7);
}).prototype = p = new cjs.Sprite();



(lib.flash01111 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(8);
}).prototype = p = new cjs.Sprite();



(lib.flash01111_1 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(9);
}).prototype = p = new cjs.Sprite();



(lib.flash0111jpgcopy = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(10);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(11);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_1 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(12);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_2 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(13);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_3 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(14);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_4 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(15);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_5 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(16);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_6 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(17);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_7 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(18);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_8 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(19);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_9 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(20);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_10 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(21);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_11 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(22);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_12 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(23);
}).prototype = p = new cjs.Sprite();



(lib.flash0ai_13 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(24);
}).prototype = p = new cjs.Sprite();



(lib.flash0aiAssets = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(25);
}).prototype = p = new cjs.Sprite();



(lib.flash0aiAssets_1 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(26);
}).prototype = p = new cjs.Sprite();



(lib.flash0aiAssets_2 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(27);
}).prototype = p = new cjs.Sprite();



(lib.flash0aiAssets_3 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(28);
}).prototype = p = new cjs.Sprite();



(lib.flash0aiAssets_4 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(29);
}).prototype = p = new cjs.Sprite();



(lib.flash0aiAssets_5 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(30);
}).prototype = p = new cjs.Sprite();



(lib.flash0aiAssets_6 = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(31);
}).prototype = p = new cjs.Sprite();



(lib.Golda_Meir_03265u_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(32);
}).prototype = p = new cjs.Sprite();



(lib.israel_flagjpg = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(33);
}).prototype = p = new cjs.Sprite();



(lib.Jupiter_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(34);
}).prototype = p = new cjs.Sprite();



(lib.Neptune_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(35);
}).prototype = p = new cjs.Sprite();



(lib.OSIRIS_Mars_true_color_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(36);
}).prototype = p = new cjs.Sprite();



(lib.satellite2771043_1920_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(37);
}).prototype = p = new cjs.Sprite();



(lib.SFU23spacemannasaorbitearthwallmurals = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(38);
}).prototype = p = new cjs.Sprite();



(lib.Uzi_Chitman_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(39);
}).prototype = p = new cjs.Sprite();



(lib.Venusreal_color_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(40);
}).prototype = p = new cjs.Sprite();



(lib.Yigael_Bashan_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(41);
}).prototype = p = new cjs.Sprite();



(lib.Yitzhak_Rabin_Chief_of_General_Staff_optimized = function() {
	this.spriteSheet = ss["postbox_atlas_"];
	this.gotoAndStop(42);
}).prototype = p = new cjs.Sprite();
// helper functions:

function mc_symbol_clone() {
	var clone = this._cloneProps(new this.constructor(this.mode, this.startPosition, this.loop));
	clone.gotoAndStop(this.currentFrame);
	clone.paused = this.paused;
	clone.framerate = this.framerate;
	return clone;
}

function getMCSymbolPrototype(symbol, nominalBounds, frameBounds) {
	var prototype = cjs.extend(symbol, cjs.MovieClip);
	prototype.clone = mc_symbol_clone;
	prototype.nominalBounds = nominalBounds;
	prototype.frameBounds = frameBounds;
	return prototype;
	}


(lib.yitzhak_shamir = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Bitmap54();
	this.instance.parent = this;
	this.instance.setTransform(-25,-34.3,0.133,0.133);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.yitzhak_shamir, new cjs.Rectangle(-25,-34.3,50,68.7), null);


(lib.yitzhak_rabin = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Yitzhak_Rabin_Chief_of_General_Staff_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-25,-32.8,0.033,0.033);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.yitzhak_rabin, new cjs.Rectangle(-25,-32.8,50,65.6), null);


(lib.yigal_bashan = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Yigael_Bashan_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-25,-36,0.035,0.035);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.yigal_bashan, new cjs.Rectangle(-25,-36,50,72.2), null);


(lib.uzi_chitman = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Uzi_Chitman_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-25,-33.4,0.026,0.026);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.uzi_chitman, new cjs.Rectangle(-25,-33.4,50,67), null);


(lib.Tween5 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0aiAssets_6();
	this.instance.parent = this;
	this.instance.setTransform(-38,-29.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-38,-29.5,76,59);


(lib.time_icon = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_9();
	this.instance.parent = this;

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.time_icon, new cjs.Rectangle(0,0,39,39), null);


(lib.Symbol3 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0aiAssets();
	this.instance.parent = this;

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.Symbol3, new cjs.Rectangle(0,0,250,174), null);


(lib.Symbol2 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.shape = new cjs.Shape();
	this.shape.graphics.f("#CCCCCC").s().p("Ag7AUQgZgYAAgjIAAgFQACAfAXAWQAZAZAiAAQAjAAAZgZQAXgWACgfIAAAFQAAAjgZAYQgYAZgkAAQgiAAgZgZg");
	this.shape.setTransform(8.5,13.6);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#FFFFFF").s().p("Ag7A8QgXgXgCgfIAAgGQAAgiAZgZQAZgZAiAAQAjAAAZAZQAZAZAAAiIAAAGQgCAfgXAXQgZAZgjAAQgiAAgZgZg");
	this.shape_1.setTransform(8.5,8.5);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.Symbol2, new cjs.Rectangle(0,0,17.1,18.1), null);


(lib.Symbol1 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer 1
	this.text = new cjs.Text("בחר", "bold 17px 'Verdana'", "#FFFFFF");
	this.text.textAlign = "center";
	this.text.lineHeight = 21;
	this.text.lineWidth = 86;
	this.text.parent = this;
	this.text.setTransform(50.1,5.4);

	this.shape = new cjs.Shape();
	this.shape.graphics.f("#002E47").s("#002E47").ss(1,1,1,3,true).rr(-50.95,-22.75,101.9,45.5,5.2);
	this.shape.setTransform(52.7,14.7);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape},{t:this.text}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.Symbol1, new cjs.Rectangle(0.7,-9,103.9,47.5), null);


(lib.star_venus = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Venusreal_color_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-35,-35,0.146,0.146);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.star_venus, new cjs.Rectangle(-35,-35,70,70), null);


(lib.star_neptune = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Neptune_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-35,-35.2,0.115,0.115);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.star_neptune, new cjs.Rectangle(-35,-35.2,70,70.5), null);


(lib.star_mars = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.OSIRIS_Mars_true_color_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-35,-35,0.032,0.032);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.star_mars, new cjs.Rectangle(-35,-35,70,70), null);


(lib.star_jupiter = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Jupiter_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-35,-35,0.083,0.083);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.star_jupiter, new cjs.Rectangle(-35,-35,70,70), null);


(lib.space_man = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.SFU23spacemannasaorbitearthwallmurals();
	this.instance.parent = this;
	this.instance.setTransform(-100,-62.5,0.25,0.25);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.space_man, new cjs.Rectangle(-100,-62.5,200,125), null);


(lib.setllite = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.satellite2771043_1920_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-50,-35.4,0.052,0.052);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.setllite, new cjs.Rectangle(-50,-35.4,100,71), null);


(lib.q_envelop = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_11();
	this.instance.parent = this;
	this.instance.setTransform(-88,-69,1.062,1.062);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.q_envelop, new cjs.Rectangle(-88,-69,477,276.2), null);


(lib.progress_icon = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_10();
	this.instance.parent = this;

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.progress_icon, new cjs.Rectangle(0,0,49,50), null);


(lib.moshe_dayan = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Bitmap40();
	this.instance.parent = this;
	this.instance.setTransform(-25,-35.3,0.265,0.265);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.moshe_dayan, new cjs.Rectangle(-25,-35.3,50,70.7), null);


(lib.mordechai_gur = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Bitmap41();
	this.instance.parent = this;
	this.instance.setTransform(-25,-18.5,0.2,0.2);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.mordechai_gur, new cjs.Rectangle(-25,-18.5,50,37), null);


(lib.mailman_opening = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai();
	this.instance.parent = this;
	this.instance.setTransform(-40,-104);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.mailman_opening, new cjs.Rectangle(-40,-104,80,208), null);


(lib.mail_man = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_6();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.871,0.871);

	this.instance_1 = new lib.flash0aiAssets_2();
	this.instance_1.parent = this;
	this.instance_1.setTransform(0,0,0.871,0.871);

	this.instance_2 = new lib.flash0aiAssets_1();
	this.instance_2.parent = this;
	this.instance_2.setTransform(0,0,0.871,0.873);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,500,738.6);


(lib.mail_board = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_12();
	this.instance.parent = this;
	this.instance.setTransform(-233,-130,0.881,0.881);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.mail_board, new cjs.Rectangle(-233,-130,748.6,569), null);


(lib.magnifying = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.shape = new cjs.Shape();
	this.shape.graphics.f("#000000").s().p("AI+O8IAAjMIhNhMQjVDCkSBqQkYBskvAAQlSAAk0iCQkqh+jljlQjljlh9kpQiCkzAAlTQAAlSCCk0QB9kqDljlQDljlEqh9QE0iCFSAAQFSAAEzCCQEqB9DlDlQDlDlB+EqQCCE0AAFSQAAEvhtEYQhqETjBDVIBMBMIDMAAIT7T7Il+F+gAv95fQjOBXifCeQieCfhXDOQhZDVAADrQAADrBZDVQBXDOCeCeQCfCeDOBXQDVBaDrAAQDrAADVhaQDOhXCeieQCeieBXjOQBajVAAjrQAAjrhajVQhXjOieifQieiejOhXQjVhZjrAAQjrAAjVBZg");
	this.shape.setTransform(0,0,0.056,0.056);

	this.timeline.addTween(cjs.Tween.get(this.shape).wait(1));

}).prototype = getMCSymbolPrototype(lib.magnifying, new cjs.Rectangle(-12.5,-12.5,25,25), null);


(lib.flag_israel = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.israel_flagjpg();
	this.instance.parent = this;
	this.instance.setTransform(-100,-59.5,0.3,0.3);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.flag_israel, new cjs.Rectangle(-100,-59.5,200,119), null);


(lib.instructions = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_2();
	this.instance.parent = this;
	this.instance.setTransform(-170,-88);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.instructions, new cjs.Rectangle(-170,-88,340,176), null);


(lib.golda_meir = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.Golda_Meir_03265u_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-50,-65.8,0.147,0.147);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.golda_meir, new cjs.Rectangle(-50,-65.8,100,131.6), null);


(lib.flag_usa = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib._302239P7ORWO697_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-25,-16.3,0.027,0.027);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.flag_usa, new cjs.Rectangle(-25,-16.3,50,32.6), null);


(lib.flag_china = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib._312795P8IB42542_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-25,-16,0.029,0.029);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.flag_china, new cjs.Rectangle(-25,-16,50,32.1), null);


(lib.envelop_open = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_13();
	this.instance.parent = this;
	this.instance.setTransform(-38,38,0.284,0.284);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.envelop_open, new cjs.Rectangle(-38,38,206,178.2), null);


(lib.envelop_close = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_4();
	this.instance.parent = this;
	this.instance.setTransform(-65,-43.2,0.435,0.435);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.envelop_close, new cjs.Rectangle(-65,-43.2,130,86.5), null);


(lib.david_elazar = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.David_Elazar_Dado_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-25,-31.6,0.031,0.031);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.david_elazar, new cjs.Rectangle(-25,-31.6,50,63.3), null);


(lib.david_ben_gurion = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.BenGurion_optimized();
	this.instance.parent = this;
	this.instance.setTransform(-25,-33.3,0.056,0.056);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.david_ben_gurion, new cjs.Rectangle(-25,-33.3,50,66.7), null);


(lib.an_ComboBox = function(options) {
	this._element = new $.an.ComboBox(options);
	this._el = this._element.create();
	var $this = this;
	this.addEventListener('added', function() {
		$this._lastAddedFrame = $this.parent.currentFrame;
		$this._element.attach($('#dom_overlay_container'));
	});
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,100,22);

p._tick = _tick;
p._handleDrawEnd = _handleDrawEnd;
p._updateVisibility = _updateVisibility;



(lib.coffee_cup = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_1();
	this.instance.parent = this;
	this.instance.setTransform(-25,-38.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.coffee_cup, new cjs.Rectangle(-25,-38.5,50,77), null);


(lib.check = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_3();
	this.instance.parent = this;
	this.instance.setTransform(-107.5,-21.5);

	this.instance_1 = new lib.flash0aiAssets_4();
	this.instance_1.parent = this;
	this.instance_1.setTransform(-108,-21);

	this.instance_2 = new lib.flash0aiAssets_3();
	this.instance_2.parent = this;
	this.instance_2.setTransform(-108,-21);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_2}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-107.5,-21.5,215,43);


(lib.bg_shop = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_5();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.458,0.457);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.bg_shop, new cjs.Rectangle(0,0,151,133.6), null);


(lib.bg_building = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_7();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.939,0.939);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.bg_building, new cjs.Rectangle(0,0,340,682.8), null);


(lib.bg = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer_1
	this.instance = new lib.flash0ai_8();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.793,1.368);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = getMCSymbolPrototype(lib.bg, new cjs.Rectangle(0,0,1283,725), null);


(lib.___Camera___ = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
	this.frame_0 = function() {
		this.visible = false;
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(2));

	// cameraBoundary
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("rgba(0,0,0,0)").ss(2,1,1,3,true).p("EAq+AfQMhV7AAAMAAAg+fMBV7AAAg");

	this.timeline.addTween(cjs.Tween.get(this.shape).wait(2));

}).prototype = p = new cjs.MovieClip();


(lib.mail_ride = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// smoke copy 2
	this.instance = new lib.Symbol2();
	this.instance.parent = this;
	this.instance.setTransform(136.7,41.9,1,1,0,0,0,8.5,9.1);
	this.instance._off = true;

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(3).to({_off:false},0).wait(1).to({scaleX:1.03,scaleY:1.03,x:137.9,y:41.6},0).wait(1).to({scaleX:1.07,scaleY:1.07,x:139,y:41.4},0).wait(1).to({scaleX:1.1,scaleY:1.1,x:140.1,y:41.1},0).wait(1).to({scaleX:1.14,scaleY:1.14,x:141.3,y:40.9},0).wait(1).to({scaleX:1.17,scaleY:1.17,x:142.4,y:40.6},0).wait(1).to({scaleX:1.2,scaleY:1.2,x:143.5,y:40.3},0).wait(1).to({scaleX:1.24,scaleY:1.24,x:144.7,y:40.1},0).wait(1).to({scaleX:1.27,scaleY:1.27,x:145.8,y:39.8},0).wait(1).to({scaleX:1.3,scaleY:1.3,x:147,y:39.5},0).wait(1).to({scaleX:1.34,scaleY:1.34,x:148.1,y:39.3},0).wait(1).to({scaleX:1.37,scaleY:1.37,x:149.2,y:39},0).wait(1).to({scaleX:1.41,scaleY:1.4,x:150.4,y:38.8},0).wait(1).to({scaleX:1.44,scaleY:1.44,x:151.5,y:38.5},0).wait(1).to({scaleX:1.47,scaleY:1.47,x:152.6,y:38.2},0).wait(1).to({scaleX:1.51,scaleY:1.51,x:153.8,y:38},0).wait(1).to({scaleX:1.54,scaleY:1.54,x:154.9,y:37.7},0).wait(1).to({scaleX:1.57,scaleY:1.57,x:156,y:37.4},0).wait(1).to({scaleX:1.61,scaleY:1.61,x:158.1,y:35},0).wait(1).to({scaleX:1.64,scaleY:1.64,x:160.3,y:32.5},0).wait(1).to({scaleX:1.67,scaleY:1.67,x:162.4,y:30.2},0).wait(1).to({scaleX:1.71,scaleY:1.71,x:164.4,y:27.7},0).wait(1).to({scaleX:1.74,scaleY:1.74,x:166.5,y:25.3},0).wait(1).to({scaleX:1.78,scaleY:1.78,x:168.7,y:22.8},0).wait(1).to({scaleX:1.81,scaleY:1.81,x:170.8,y:20.4},0).wait(1).to({scaleX:1.84,scaleY:1.84,x:172.8,y:18},0).wait(1).to({scaleX:1.88,scaleY:1.88,x:174.9,y:15.6},0).wait(1));

	// smoke copy
	this.instance_1 = new lib.Symbol2();
	this.instance_1.parent = this;
	this.instance_1.setTransform(136.7,41.9,1,1,0,0,0,8.5,9.1);
	this.instance_1._off = true;

	this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(2).to({_off:false},0).wait(1).to({scaleX:1.04,scaleY:1.04,x:137.8,y:41.7},0).wait(1).to({scaleX:1.07,scaleY:1.07,x:139,y:41.4},0).wait(1).to({scaleX:1.11,scaleY:1.11,x:140.1,y:41.1},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:141.3,y:40.9},0).wait(1).to({scaleX:1.18,scaleY:1.18,x:142.4,y:40.6},0).wait(1).to({scaleX:1.22,scaleY:1.22,x:143.5,y:40.3},0).wait(1).to({scaleX:1.26,scaleY:1.25,x:144.6,y:40},0).wait(1).to({scaleX:1.29,scaleY:1.29,x:145.8,y:39.8},0).wait(1).to({scaleX:1.33,scaleY:1.33,x:146.9,y:39.5},0).wait(1).to({scaleX:1.37,scaleY:1.37,x:148.1,y:39.3},0).wait(1).to({scaleX:1.4,scaleY:1.4,x:149.2,y:39},0).wait(1).to({scaleX:1.44,scaleY:1.44,x:150.4,y:38.8},0).wait(1).to({scaleX:1.48,scaleY:1.47,x:151.5,y:38.5},0).wait(1).to({scaleX:1.51,scaleY:1.51,x:152.6,y:38.2},0).wait(1).to({scaleX:1.55,scaleY:1.55,x:153.8,y:38},0).wait(1).to({scaleX:1.58,scaleY:1.58,x:154.9,y:37.7},0).wait(1).to({scaleX:1.62,scaleY:1.62,x:156.1,y:37.4},0).wait(1).to({scaleX:1.66,scaleY:1.66,x:158.8,y:34.3},0).wait(1).to({scaleX:1.69,scaleY:1.69,x:161.5,y:31.2},0).wait(1).to({scaleX:1.73,scaleY:1.73,x:164.1,y:28.1},0).wait(1).to({scaleX:1.77,scaleY:1.77,x:166.8,y:24.9},0).wait(1).to({scaleX:1.8,scaleY:1.8,x:169.6,y:21.8},0).wait(1).to({scaleX:1.84,scaleY:1.84,x:172.3,y:18.7},0).wait(1).to({scaleX:1.88,scaleY:1.88,x:174.9,y:15.6},0).to({_off:true},1).wait(3));

	// smoke
	this.instance_2 = new lib.Symbol2();
	this.instance_2.parent = this;
	this.instance_2.setTransform(136.7,41.9,1,1,0,0,0,8.5,9.1);

	this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(1).to({scaleX:1.04,scaleY:1.04,x:138.1,y:41.6},0).wait(1).to({scaleX:1.07,scaleY:1.07,x:139.4,y:41.2},0).wait(1).to({scaleX:1.11,scaleY:1.11,x:140.9,y:40.9},0).wait(1).to({scaleX:1.15,scaleY:1.15,x:142.2,y:40.6},0).wait(1).to({scaleX:1.18,scaleY:1.18,x:143.6,y:40.3},0).wait(1).to({scaleX:1.22,scaleY:1.22,x:145,y:40},0).wait(1).to({scaleX:1.26,scaleY:1.25,x:146.4,y:39.6},0).wait(1).to({scaleX:1.29,scaleY:1.29,x:147.8,y:39.3},0).wait(1).to({scaleX:1.33,scaleY:1.33,x:149.1,y:39},0).wait(1).to({scaleX:1.37,scaleY:1.37,x:150.5,y:38.7},0).wait(1).to({scaleX:1.4,scaleY:1.4,x:151.9,y:38.4},0).wait(1).to({scaleX:1.44,scaleY:1.44,x:153.3,y:38.1},0).wait(1).to({scaleX:1.48,scaleY:1.47,x:154.7,y:37.7},0).wait(1).to({scaleX:1.51,scaleY:1.51,x:156.1,y:37.4},0).wait(1).to({scaleX:1.55,scaleY:1.55,x:157.8,y:35.9},0).wait(1).to({scaleX:1.58,scaleY:1.58,x:159.6,y:34.3},0).wait(1).to({scaleX:1.62,scaleY:1.62,x:161.4,y:32.7},0).wait(1).to({scaleX:1.66,scaleY:1.66,x:163.1,y:31.1},0).wait(1).to({scaleX:1.69,scaleY:1.69,x:164.9,y:29.5},0).wait(1).to({scaleX:1.73,scaleY:1.73,x:166.6,y:28},0).wait(1).to({scaleX:1.77,scaleY:1.77,x:168.4,y:26.4},0).wait(1).to({scaleX:1.8,scaleY:1.8,x:170.2,y:24.8},0).wait(1).to({scaleX:1.84,scaleY:1.84,x:171.9,y:23.2},0).wait(1).to({scaleX:1.88,scaleY:1.88,x:173.7,y:21.6},0).to({_off:true},1).wait(5));

	// Layer_1
	this.instance_3 = new lib.Symbol3();
	this.instance_3.parent = this;
	this.instance_3.setTransform(0,0,1,1,0,0,0,125,87);

	this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(30));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-125,-87,270.3,174);


(lib.forcomb = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// Layer 1
	this.startbtn = new lib.Symbol1();
	this.startbtn.name = "startbtn";
	this.startbtn.parent = this;
	this.startbtn.setTransform(-45.2,10.5,0.737,0.605,0,0,0,52.5,17.1);

	this.mycb = new lib.an_ComboBox({'id': 'mycb', 'label':'', 'items':'dummy, dummy, items, 2, label, 0, , , data, 0, , , 4, בחר נושא, 0, היסטוריה ארץ ישראל, 1, החלל והכוכבים, 2, , ', 'value':'0', 'disabled':false, 'visible':true, 'class':'ui-combobox'});

	this.mycb.setTransform(50,11,1,1,0,0,0,50,11);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.mycb},{t:this.startbtn}]}).wait(1));

}).prototype = getMCSymbolPrototype(lib.forcomb, new cjs.Rectangle(-83,-5,183.5,28.1), null);


(lib.ans_box = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
	this.frame_0 = function() {
		this.stop();
	}
	this.frame_1 = function() {
		this.stop();
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1).call(this.frame_1).wait(3));

	// Layer_2
	this.instance = new lib.Tween5("synched",0);
	this.instance.parent = this;
	this.instance.setTransform(156,143.4);
	this.instance._off = true;

	this.instance_1 = new lib.flash0aiAssets_5();
	this.instance_1.parent = this;
	this.instance_1.setTransform(133,123);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[]}).to({state:[{t:this.instance}]},2).to({state:[{t:this.instance_1}]},1).wait(1));
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(2).to({_off:false},0).to({_off:true,x:133,y:123},1).wait(1));

	// Layer_1
	this.instance_2 = new lib.flash01111_1();
	this.instance_2.parent = this;
	this.instance_2.setTransform(0,0,0.742,0.742);

	this.instance_3 = new lib.boxyellow();
	this.instance_3.parent = this;
	this.instance_3.setTransform(0,0,0.742,0.742);

	this.instance_4 = new lib.flash0111jpgcopy();
	this.instance_4.parent = this;
	this.instance_4.setTransform(0,0,0.742,0.742);

	this.instance_5 = new lib.flash01111();
	this.instance_5.parent = this;
	this.instance_5.setTransform(0,0,0.742,0.742);

	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance_2}]}).to({state:[{t:this.instance_3}]},1).to({state:[{t:this.instance_4}]},1).to({state:[{t:this.instance_5}]},1).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,170,152.9);


// stage content:
(lib.postbox = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
	this.frame_0 = function() {
		var mychoice = 0; //משתנה לשמירת הבחירה בסוג המשחק
		var forcombo; //משתנה ה dropdown
		stage.enableMouseOver(24); //אפשרות למעבר עכבר
		var good; //משתנה לבדיקת המסיח האחרון 
		//המערך של כל המשחק
		var myGame; //משתנה למערך השאלות והמסיחים
		var answer_mark; //משתנה לשמירת ערך המסיח שנבחר
		var answer_mark_index; //משתנה לשמירת האינדסק של המסיח שנשמר לשם השוואה לתשובה הנכונה
		var q_num = 0; //משתנה להגרת שאלה
		var game_type = ""; //משתנה לשמירת סוג המשחק שנבחר
		var orehMarrah; //משתנה לשמירת אורך המארך
		var grade = 0; //משתנה לשמירת הציון
		var mark_counter = 0; //משתנה לשמירת כמות הסימונים של מסיחים לצורך כך שלא יופיע כפתור המשך בכל פעם מחדש
		var q_sum = 1; //משתנה לסכימת מספר שאלות
		var mistakes_counter = 0; // משתנה לסכימת כמות הטעויות
		var sumSec = 0; //משתנה לסכימת השניות הכוללות
		var correct_ans; //משתנה לשמירת התשובה הנכונה
		
		
		createBG();
		
		function createBG() { //פונקציה ליצירת האלמנטים הגרפים ההתחלתיים
			//מאזין לשינוי ערכים בקומבו - שימו לב שהפרמטר השני, האינסטנס של הקומבו, הוגדר ידנית בתוך הקומפוננט
			$("#dom_overlay_container").on("change", "#mycb", mycb_change);
		
			var bg = new lib.bg; //הוספת רקע לבמה
			stage.addChild(bg);
		
			var shop = new lib.bg_shop; //יצירת גרפיקה של החנות
			stage.addChild(shop);
			shop.y = 70;
			shop.x = 70;
			shop.scaleX = 3;
			shop.scaleY = 3;
		
			var ride = new lib.mail_ride; //יצירת גרפיקה של האופנוע
			stage.addChild(ride);
			ride.y = 400;
			ride.x = 170;
		
			var bg_mailman = new lib.mailman_opening; //יצירת גרפיקה של הדוור
			stage.addChild(bg_mailman);
			bg_mailman.y = 400;
			bg_mailman.x = 400;
			bg_mailman.scaleX = 0.9;
			bg_mailman.scaleY = 0.9;
		
			var envelop_open = new lib.envelop_open(); //יצירת גרפיקה של מעטפה פתוחה
			stage.addChild(envelop_open);
			envelop_open.name = "envelop_open";
			envelop_open.x = 700;
			envelop_open.scaleX = 2.8;
			envelop_open.scaleY = 2.8;
		
			var envelop_open_text = new createjs.Text; //יצירת גרפיקה של טקסט המעטפה
			envelop_open.addChild(envelop_open_text);
			envelop_open_text.text = "עזרו לדוד הדוור לחלק את כל המכתבים \n לתיבות הנכונות";
			envelop_open_text.name = "start_text";
			envelop_open_text.textAlign = "center";
			envelop_open_text.font = "7pt Varela Round";
			envelop_open_text.x = 65;
			envelop_open_text.y = 80;
		
			//הוספת הקומבו לבמה
			forcombo = new lib.forcomb();
			forcombo.x = 850;
			forcombo.y = 350;
			stage.addChild(forcombo);
			//הגדרות עבור כפתור "בחר" - חלק מהקומפוננטה של הקומבו
			forcombo.startbtn.alpha = 0.3;
		
			//בעת שינוי ערך בקומבו
			function mycb_change(evt) {
				//שמירת הערך שנבחר בקומבו
				//console.log("game" + evt.currentTarget.value);
				mychoice = evt.currentTarget.value;
				//אם נבחר הערך הראשון - "בחר נושא
				if (mychoice == 0) {
					//ניטרול כפתור "בחר
					forcombo.startbtn.alpha = 0.3;
					forcombo.startbtn.removeEventListener("click", fl_ClickToPosition);
				} else {
					//בכל בחירה אחרת - כלומר בחר נושא תקין, נאפשר לחיצה
					forcombo.startbtn.alpha = 1;
					forcombo.startbtn.addEventListener("click", fl_ClickToPosition);
				}
			}
		}
		
		//לחיצה על בחר
		function fl_ClickToPosition(evt) {
		
			if (mychoice == 1) { //בדיקה איזה ערך נבחר לשם מעבר למאגר השאלות של אותו משחק , בנוסף הכנסת ערך המשחק למשתנה לשם הצגתו בהמשך
				game_type = "היסטוריה ארץ ישראל";
				firstGameFunc();
		
		
			} else if (mychoice == 2) { //בדיקה איזה ערך נבחר לשם מעבר למאגר השאלות של אותו משחק , בנוסף הכנסת ערך המשחק למשתנה לשם הצגתו בהמשך
				game_type = "החלל והכוכבים";
				secondGameFunc();
			}
		}
		
		function firstGameFunc() { //תוכן של המשחק הראשון
			myGame = [
				[ // שאלה 1
					["במלחמת ששת הימי נאמר משפט אשר נחקק\n:בהיסטוריה של מדינת ישראל\n''?הר הבית בידינו'', מי אמר", "noimg", 1],
					[
						["img", lib.yitzhak_rabin, true],
						["text", "יעקב דורי", false],
						["text", "רפאל איתן", false],
						["img", lib.david_elazar, false],
						["img", lib.mordechai_gur, false],
						["img", lib.moshe_dayan, false]
					]
				],
				[ // שאלה 2
					["מה היה שמה ההתחלתי של מלחמת\n?לבנון הראשונה", "noimg", 1],
					[
						["text", "מלחמת השחרור", false],
						["text", "מלחמת שלום הגליל", true],
						["text", "מלחמת אוקטובר הגדולה", false]
					]
				],
				[ // שאלה 3
					["?באילו שנים כיהנה גולדה מאיר כראשת ממשלה", lib.golda_meir, 1],
					[
						["text", "1922-1995", false],
						["text", "1969-1974", true],
						["text", "1886-1973", false]
					]
				],
				[ // שאלה 4
					["?מול מי נלחמה מדינת ישראל במלחמת סיני", "noimg", 1],
					[
						["text", "סוריה", false],
						["text", "עיראק", false],
						["text", "מצרים", true],
						["text", "ירדן", false],
						["text", "ערב הסעודית", false],
						["text", "מרוקו", false]
					]
				],
				[ // שאלה 5 
					["מה הייתה הצעתו של בנימין זאב הרצל\n?לעיצוב דגל המדינה", lib.flag_israel, 1],
					[
						["text", "דגל ירוק עם שלושה\nפסים לבנים", false],
						["text", "דגל לבן עם שבעה\nכוכבי זהב", true],
						["text", "דגל כחול עם פס\nשחור וכוכב", false]
					]
				],
				[ // שאלה 6 
					["אילו מבין האנשים הבאים קיבל את הכינוי\n?חוזה המדינה", "noimg", 1],
					[
						["text", "חיים הרצוג", false],
						["img", lib.yitzhak_shamir, false],
						["text", "בנימין זאב הרצל", true],
						["img", lib.david_ben_gurion, false]
					]
				],
				[ // שאלה 7
					["?מי מהבאים היה חבר בלהקת כוורת", "noimg", 1],
					[
						["img", lib.yigal_bashan, false],
						["img", lib.uzi_chitman, false],
						["text", "גידי גוב", true]
					]
				],
				[ // שאלה 8 
					["באיזו שנה התקבלה ישראל\n?חברה באו''ם", "noimg", 1],
					[
						["text", "1949", true],
						["text", "1950", false],
						["text", "1945", false]
					]
				],
				[ // שאלה 9 
					["?מי היה הישראלי הראשון שזכה בפרס נובל", "noimg", 1],
					[
						["text", "דן שכטמן", false],
						["text", "עדה יונת", false],
						["text", "שי ענגון", true],
						["text", "שמעון פרס", false],
						["text", "דניאל כהנמן", false]
					]
				],
				[ // שאלה 10 
					["איזה סרט ישראלי היה מומעד לפרס האוסקר\n?בשנות ה 60", "noimg", 1],
					[
						["text", "שני קוני למל", false],
						["text", "סאלח שבתי", true],
						["text", "אסקימו לימון", false]
					]
				]
			];
			startGame_before();
		}
		
		function secondGameFunc() { //תוכן של המשחק השני
			myGame = [
				[ // שאלה 1
					["?מי מהבאים הוא כוכב הלכת צדק", "noimg", 1],
					[
						["img", lib.star_mars, false],
						["img", lib.star_jupiter, true],
						["img", lib.star_venus, false],
						["img", lib.star_neptune, false]
					]
				],
				[ //שאלה 2
					["?מהו ליקוי חמה", "noimg", 1],
					[
						["text", "מופיע כאשר מאדים וכדור\nהארץ נמצאים מול השמש", false],
						["text", ",מופיע כאשר כדור הארץ\n,הירח והשמש נמצאים על\nאותו ציר", true],
						["text", "כאשר הירח מכסה את\nכדור הארץ", false]
					]
				],
				[ // שאלה 3
					["מה מהקור הקריאה המפורסמת: יוסטון\n?יש לנו בעיה", lib.setllite, 1],
					[
						["text", "ג'ון גלן, מפקד\n החללית פרנדשיפ 7", false],
						["text", "ג'ים לאבל,מפקד\nהחללית אפולו 13", true],
						["text", "ניל אמסטרונג, מפקד\nהחללית ג'מיני 8", false]
					]
				],
		
				[ // שאלה 4
					["?איזו מדינה שיגרה ראשונה אדם לחלל", lib.space_man, 1],
					[
						["text", "ברית המועצות", true],
						["img", lib.flag_usa, false],
						["img", lib.flag_china, false]
					]
				],
		
				[ // שאלה 5
					["כיצד נקראת החללית הראשונה שנועדה לנחות\n?על הירח", "noimg", 1],
					[
						["text", "בראשית", true],
						["text", "פלקון", false],
						["text", "אפולו 11", false]
					]
				],
				[ // שאלה 6
					["?מהי גשושית", "noimg", 1],
					[
						["text", "חללית מאוישת", false],
						["text", "חללית בלתי מאוישת", true],
						["text", "אבן על הירח", false],
					]
				],
		
				[ // שאלה 7
					["?כיצד נקרא האזור על הירח שבו נחתה החללית\n?המאוישת הראשונה,אפולו 11", "noimg", 1],
					[
						["text", "מכתב הבדידות", false],
						["text", "רמת פרה-מורו", false],
						["text", "ים השלווה", true],
						["text", "המישור הלבן", false]
					]
				],
		
				[ // שאלה 8
					["?כמה חלליות מאוישות נחתו על הירח", "noimg", 1],
					[
						["text", "17", false],
						["text", "11", false],
						["text", "6", true],
						["text", "4", false]
					]
				],
		
				[ // שאלה 9
					[",מי אמר את המשפט: זה צעד קטן לאדם\n?צעד גדול לאנושות", "noimg", 1],
					[
						["text", "האדם הראשון שצעד על\nאדמת הירח", true],
						["text", "האדם הראשון שטס לחלל", false],
						["text", "האדם שתכנן את החללית", false]
					]
				],
				[ // שאלה 10
					["?מי הייתה האישה הראשונה בחלל", "noimg", 1],
					[
						["text", "ולנטינה טרשקובה", true],
						["text", "סבטלנה סביצקאיה", false],
						["text", "סאלי רייד", false],
						["text", "אי סו-יון", false],
						["text", "אנושה אנסרי", false],
						["text", "ליו יאנג", false]
					]
				]
			];
			startGame_before(); //קריאה לפונקצייה למסך טרום המשחק
		}
		
		function startGame_before() { //פונקציה להצגת מסך לפני משחק
		
			stage.removeChild(forcombo); //הורדת הקומבו מהבמה
			(stage.getChildByName("envelop_open")).removeChild((stage.getChildByName("envelop_open").getChildByName("start_text"))); // הורדת המעטפה מהבמה
		
			var envelop_open = new lib.envelop_open(); //הוספת מעטפה חדשה 
			stage.addChild(envelop_open);
			envelop_open.name = "envelop_open";
			envelop_open.x = 700;
			envelop_open.scaleX = 2.8;
			envelop_open.scaleY = 2.8;
		
			var type = new createjs.Text(); //הכנסת טקסט למעטפה עם סוג המשחק
			envelop_open.addChild(type);
			type.text = game_type;
			type.font = "12pt Arial";
			type.textAlign = "center";
			type.x = 65;
			type.y = 70;
			type.color = "#225D77"
		
			var envelop_open_text = new createjs.Text; //הכנסת טקסט למעטפה, ההוראות
			envelop_open.addChild(envelop_open_text);
			envelop_open_text.text = "לחץ “התחל” על מנת להתחיל לשחק";
			envelop_open_text.textAlign = "center";
			envelop_open_text.font = "5pt Arial";
			envelop_open_text.x = 70;
			envelop_open_text.y = 100;
		
			var button = new lib.check; //הכנסת כפתור למעטפה לתחילת משחק
			button.gotoAndStop(0);
			stage.addChild(button);
			button.name = "button";
			button.x = 890;
			button.y = 340;
			var start_text = new createjs.Text();
			button.addChild(start_text);
			start_text.text = "התחל";
			start_text.textAlign = "center";
			start_text.color = "#FFFFFF";
			start_text.font = "20px Arial";
			start_text.y = -7;
		
			button.addEventListener("click", clearall); //לחיצה על הכפתור תוביל לפונצקיית clearall
		}
		
		function clearall() { //פונקציה אשר מוחקת את הבמה ומתחילה משחק חדש
			stage.removeAllChildren(); //הסרת כל האלמנטים מהבמה
			startGame(); //מסך תחילת משחק
		}
		
		function startGame() {
		
			orehMarrah = myGame.length; //השמת גודל מערך השאלות במשתנה
		
			var bg = new lib.bg; //הוספת הרקע לבמה לאחר שנמחק
			stage.addChild(bg);
		
			var building = new lib.bg_building(); //הוספת בניין לבמה
			stage.addChild(building);
			building.name = "bg_building";
			building.x = 540;
			building.y = 15;
		
			var mail_man = new lib.mail_man(); //הוספת הדוור לבמה
			stage.addChild(mail_man);
			mail_man.gotoAndStop(0);
			mail_man.name = "bg_mail_man";
			mail_man.x = 1000;
			mail_man.y = 270;
		
			var instructions = new lib.instructions(); //הוספת שלט ההוראות ושם המשחק לבמה
			instructions.name = "bg_instructions";
			stage.addChild(instructions);
			instructions.x = 400;
			instructions.y = 70;
		
			var type = new createjs.Text(); //הצגת שם המשחק 
			type.text = game_type;
			type.textAlign = "center"
			type.font = "12pt Arial";
			type.color = "#0000FF"
			instructions.addChild(type);
		
			var inst_text = new createjs.Text(); //הצגת הוראות על הבמה
			inst_text.font = "10pt Arial";
			inst_text.textAlign = "center";
			inst_text.y = 40;
			instructions.addChild(inst_text);
			inst_text.text = "לחצו על התשובה הנכונה";
		
			var mail_board = new lib.mail_board(); //הוספת לוח תיבות דואר לבמה
			mail_board.name = "bg_mailboard";
			stage.addChild(mail_board);
			mail_board.x = 240;
			mail_board.y = 300;
		
			var clock = new lib.time_icon(); //הוספת איקון של זמן לבמה
			stage.addChild(clock);
			clock.name = "time_icon";
			clock.x = 1200;
			clock.y = 70;
			clock.addEventListener("click", pauseFunc); //הוספת איוונט ללחיצה של האייקון
			clockTxt = new createjs.Text();
			stage.addChild(clockTxt);
			clockTxt.name = "clocktime";
			clockTxt.font = "10pt Varela Round";
			clockTxt.x = 1130;
			clockTxt.y = 80;
		
			var progress = new lib.progress_icon(); //הוספת אייקון של מכתבים כמד התקדמות לפי מספר השאלות
			stage.addChild(progress);
			progress.name = "proress_icon"
			progress.x = 1195;
			progress.y = 120;
			progressTxt = new createjs.Text();
			stage.addChild(progressTxt);
			progressTxt.name = "progressText";
			progressTxt.font = "10pt Varela Round";
			progressTxt.x = 1135;
			progressTxt.y = 140;
		
			createquestions(); //קריאה לפונקציה של יצירת שאלה
		}
		
		
		function createquestions() { //פונקציה ליצירת שאלה
		
			(stage.getChildByName("bg_mail_man")).gotoAndStop(0); //איפוס הדוור לפריים הראשון
		
			stage.removeChild(stage.getChildByName("question" + q_num)); //הסרת המעטפה עם השאלה הקודמת מהבמה
		
			q_num = Math.floor(Math.random() * myGame.length); //הגרלת שאלה
		
			console.log("question" + q_num);
			//console.log("time" + sumSec);
			//console.log("grade" + grade);
		
			(stage.getChildByName("time_icon")).visible = true; //  החזרת אייקון הזמן למצב שנראה לאחר שהזמן עבר או לחיצה על עצור
			(stage.getChildByName("clocktime")).visible = true; // החזרת אייקון המד התקדמות למצב שנראה לאחר שהזמן עבר או לחיצה על עצור
			var ans_content = []; //יצירת מערך זמני למסיחים
			var ans_counter = 0; //משתנה לשמירת מספר המסיחים
		
			for (i = 0; i < myGame[q_num][1].length; i++) { //לולאה שרצה על מספר המסיחים ומכניסה כל ערך בתא למערך הזמני
				ans_content[i] = myGame[q_num][1][i];
				ans_counter++
			}
		
			sec = 30; //איפוס השעון ל-30 שניות
			clockTxt.text = "00:" + sec; //עדכון זמן בתיבת הטקסט
			interval = setInterval(timer, 1000); //יצירת אינרוול כל שנייה
			stage.getChildByName("progressText").text = q_sum + "/" + orehMarrah; //הכנסת טקסט למד התקדמות - סך השאלות שנענו מתוך כלל השאלות
		
			var q_envelop = new lib.q_envelop(); //יצירת מעטפה לשאלה על הבמה
			q_envelop.name = "question" + q_num;
			stage.addChild(q_envelop);
			q_envelop.x = 850;
			q_envelop.y = 480;
		
			var q_text = new createjs.Text(); //הכנסת הטקסט של אותה שאלה לתוך המעטפה
			q_text.text = (myGame[q_num][0][0]); //שליפת הטקסט מתוך המערך המקורי -פנייה לתא השאלה במקום שבו נמצא הטקסט
			q_text.name = "q_text";
			q_envelop.addChild(q_text);
			q_text.font = "13pt Varela Round";
			q_text.width = "70px";
			q_text.textAlign = "right";
			q_text.lineHieght = 1.2;
			q_text.x = 280;
			q_text.y = -10;
		
		
		
			if (myGame[q_num][0][1] != "noimg") { //בדיקה האם ישנה תמונה לשאלה, במידה וכן, הצגתה על הבמה
				var q_img = new myGame[q_num][0][1];
				q_envelop.addChild(q_img);
				q_img.x = 140;
				q_img.y = 120;
				q_img.addEventListener("mouseover", imgOver); //הוספת אירוע מעבר עכבר לתמונה
				q_img.addEventListener("mouseout", imgOut); //הוספת אירוע מעבר עכבר לתמונה
		
				//יצירת זכוכית מגדלת לתמונה
				var mag = new lib.magnifying();
				q_img.addChild(mag);
				mag.position = "relative";
				mag.x = -60;
				mag.y = -40;
		
			}
		
			if (myGame[q_num][1].length <= 3) { //בדיקה האם מספר המסיחים הוא 3 ומטה לצורך מיקום המסיחים
				for (i = 0; i < ans_counter; i++) { //לולאה העוברת על כל המסיחים
					var current = new lib.ans_box; //יצירת גרפיקה של תיבה למסיח
					current.x = i * 200 + 80;
					current.y = 270;
					stage.addChild(current);
					current.addEventListener("click", checkButton);
		
					var ans_rnd = Math.floor((Math.random() * ans_content.length)); //הגרלת מסיח מתוך סך המסיחים לצורך מיקום רנדומלי
		
					if (ans_content[ans_rnd][0] == "text") { //בדיקה האם יש טקסט במסיח, במידה וכן יצירתו על הבמה בתוך התיבה
						var current_text = new createjs.Text();
						current.addChild(current_text);
						current_text.textAlign = "right";
						current_text.width = "10px";
						current_text.font = "9pt Varela Round";
						current_text.x = 145;
						current_text.y = 80;
						current_text.text = ans_content[ans_rnd][1];
					} else {
						var img = new(ans_content[ans_rnd][1]); //במידה ויש תמונה, הוספתה לבמה בתוך התיבה
						current.addChild(img);
						img.x = 85;
						img.y = 100;
						img.name = "img" + i;
						img.addEventListener("mouseover", imgOver); //הוספת אירוע מעבר עכבר לתמונה
						img.addEventListener("mouseout", imgOut); //הוספת אירוע מעבר עכבר לתמונה
		
						//יצירת זכוכית מגדלת לתמונה
						var mag = new lib.magnifying();
						current.addChild(mag);
						mag.x = 35;
						mag.y = 80;
		
					}
		
					current.name = "answer" + i; //נתינת שם לכל מסיח לפי מספרו ה i
					current = ans_content[ans_rnd]; // ההכנסת המידע של המסיח שהוגרל לתוך התיבה שנוצרה
		
					if (ans_content[ans_rnd][2]) { //בדיקה אם זהו המסיח הנכון, אם כן הכנס את האינדקס שלו למשתנה
						correct_ans = i;
					}
					ans_content.splice(ans_rnd, 1); //חיתוך המסיח מהמערך הזמני על מנת שלא יוגרל שוב
		
				}
		
		
			} else if (ans_counter > 3) { //במידה וישנם יותר משלושה מסיחים, קביעת מיקומים על פי מערך
		
				var ans_location = [
					[80, 280],
					[280, 280],
					[480, 280],
					[80, 480],
					[280, 480],
					[480, 480]
				]
		
				for (i = 0; i < myGame[q_num][1].length; i++) { // לולאה העוברת על כל המסיחים 
					var current = new lib.ans_box; //יצירת גרפיקה של תיבה למסיח
					current.x = ans_location[i][0];
					current.y = ans_location[i][1];
					stage.addChild(current);
					current.addEventListener("click", checkButton); //הוספת אירוע לחיצה למסיח
		
					var ans_rnd = Math.floor((Math.random() * ans_content.length)); //הגרלת מסיח לצורך מיקום רנדומלי
		
					if (ans_content[ans_rnd][0] == "text") { //בדיקה האם המסיח מכיל טקסט, במידה וכן הצגתו על הבמה
						var current_text = new createjs.Text();
						current.addChild(current_text);
						current_text.textAlign = "right";
						current_text.width = "10px";
						current_text.font = "9pt Varela Round";
						current_text.x = 145;
						current_text.y = 80;
						current_text.text = ans_content[ans_rnd][1];
					} else { // במידה ולא מכיל טקסט, אז מכיל תמונה, יצירתה על הבמה
						var img = new ans_content[ans_rnd][1];
						current.addChild(img);
						img.x = 85;
						img.y = 100;
						img.name = "img" + i;
						img.addEventListener("mouseover", imgOver); //הוספת אירוע מעבר עכבר לתמונה
						img.addEventListener("mouseout", imgOut); //הוספת אירוע מעבר עכבר לתמונה
		
		
						//יצירת זכוכית מגדלת לתמונה
						var mag = new lib.magnifying();
						current.addChild(mag);
						mag.x = 35;
						mag.y = 80;
					}
		
					current.name = "answer" + i; //נתינת שם לכל מסיח לפי מספרו ה i
					current = ans_content[ans_rnd]; // ההכנסת המידע של המסיח שהוגרל לתוך התיבה שנוצרה
		
					if (ans_content[ans_rnd][2]) { //בדיקה אם זהו המסיח הנכון, אם כן הכנס את האינדקס שלו למשתנה
						correct_ans = i;
					}
					ans_content.splice(ans_rnd, 1); //חיתוך המסיח מהמערך הזמני על מנת שלא יוגרל שוב
		
				}
			}
		
		
		
		}
		
		function checkButton(evt) { //פונקציה לסימון מסיח
		
			clearInterval(interval); //עצירת האינטרוול
			mark_counter++; //העלאת משתנה הלחיצה ב -1
		
			(stage.getChildByName("time_icon")).visible = false; //הסתרת שעון
			(stage.getChildByName("clocktime")).visible = false; // הסתרת מד התקדמות
		
			answer_mark = evt.currentTarget; //השמת המשתנה שנלחץ בתוך משתנה
			answer_mark_index = evt.currentTarget.name.charAt(6); // הוצאת האינדס של אותו משתנה שנלחץ לצורך בדיקה האם מדובר בתשובה הנכונה
			//console.log(answer_mark);
			for (var i = 0; i < myGame[q_num][1].length; i++) { //לולאה המאפסת את כל המססיחים על מנת שרק המסיח שנלחץ ישתנה בהתאם
				(stage.getChildByName("answer" + i)).gotoAndStop(0);
			}
		
			evt.currentTarget.gotoAndStop(1); //"שינוי המסיח שנלחץ לגרפיקה של "לחיץ
		
			var button = new lib.check; //הוספת כפתור בדיקה
			stage.addChild(button);
			button.gotoAndStop(0);
			button.name = "check_btn";
			button.x = 400;
			button.y = 680;
			var check_text = new createjs.Text();
			button.addChild(check_text);
			check_text.text = "בדוק";
			check_text.textAlign = "center";
			check_text.color = "#FFFFFF";
			check_text.font = "20px Varela Round";
			check_text.y = -10;
		
			button.addEventListener("click", checkAnswer); //אירוע לחיצה של הכפתור
		
		}
		
		function checkAnswer() { //פונצקיה הבודקת האם זוהי התשובה הנכונה
		
			for (i = 0; i < mark_counter; i++) { //הסרת כל הכפתורים שנוצרו כתוצאה מסימון מסיחים
				stage.removeChild(stage.getChildByName("check_btn"));
			}
			mark_counter = 0; //איפוס המשתנה אשר סופר את כמות הסימונים של מסיחים
		
			if (answer_mark_index == correct_ans) { //אם האינדקס של המסיח שנבחר מתאים למשתנה ששמר את התשובה הנכונה
				//console.log("good job");
				goodAnswer(); //פונקציית תשובה נכונה
			} else {
				//console.log("nice try");
				badAnswer(); //פונקציית תשובה שגויה
			}
		
		}
		
		function goodAnswer() { //פונקציית תשובה נכונה
		
			good = true; //הכנסת משתנה good למצב true לצורך הסיח האחרון
			q_sum++; //העלאת מספר השאלות שנענו 
		
			grade += parseInt(100 / (orehMarrah * myGame[q_num][0][2])); //משתנה שסוכם את הניקוד הכולל
		
			for (var i = 0; i < myGame[q_num][1].length; i++) { //לולאה להורדת אלפא לשאר המסיחים
				(stage.getChildByName("answer" + i)).alpha = 0.2;
			}
			answer_mark.alpha = 1; //השארת המסיח שנבחר באלפא מלאה
			answer_mark.gotoAndStop(2); //העברת המסיח לפריים שמציג תשובה נכונה
			(stage.getChildByName("bg_mail_man")).gotoAndStop(2); //העברת הדוור לפריים שמציג תשובה נכונה
		
		
			var button = new lib.check; //הוספת כפץור המשך
			stage.addChild(button);
			button.gotoAndStop(0);
			button.alpha = 1;
			button.name = "continue_btn";
			button.x = 400;
			button.y = 680;
			var continue_text = new createjs.Text();
			button.addChild(continue_text);
			continue_text.text = "המשך";
			continue_text.alignText = "center";
			continue_text.color = "#FFFFFF";
			continue_text.font = "20px Varela Round";
			continue_text.y = -10;
			continue_text.x = -17;
		
			button.addEventListener("click", nextquestion); //הוספת אירוע לחיצה לכפתור המשך
		
			for (i = 0; i < myGame[q_num][1].length; i++) { //הסרת כל המסיחים מהבמה
				(stage.getChildByName("answer" + i)).removeEventListener("click", checkButton);
			}
		
		}
		
		function badAnswer() { //פונקציית תשובה שגויה
		
			myGame[q_num][0][2]++; //העלאת הערך לחישוב הציון ב-1
		
			mistakes_counter++; //העלאת משתנה לשמירת מספר טעויות ב-1
			for (var i = 0; i < myGame[q_num][1].length; i++) { //לולאה להורדת אלפא לשאר מהסיחים
				(stage.getChildByName("answer" + i)).alpha = 0.2;
			}
			answer_mark.alpha = 1; // השארת המסיח שנבחר באלפא מלאה
			answer_mark.gotoAndStop(3); //העברת המסיח לפריים של תשובה שגויה
			(stage.getChildByName("bg_mail_man")).gotoAndStop(1); //העברת הדוור לפריים של תשובה שגויה
		
			var button = new lib.check; //הוספת כפתור המשך
			stage.addChild(button);
			button.gotoAndStop(0);
			button.alpha = 1;
			button.name = "continue_btn";
			button.x = 400;
			button.y = 680;
			var continue_text = new createjs.Text();
			button.addChild(continue_text);
			continue_text.text = "המשך";
			continue_text.alignText = "center";
			continue_text.color = "#FFFFFF";
			continue_text.font = "20px Varela Round";
			continue_text.y = -10;
			continue_text.x = -17;
		
			button.addEventListener("click", nextquestion); //הוספת אירוע לחיצה לכפתור המשך
		
			for (i = 0; i < myGame[q_num][1].length; i++) { //מחיקת כל המסיחים מהבמה
				(stage.getChildByName("answer" + i)).removeEventListener("click", checkButton);
			}
		}
		
		
		function nextquestion() { //פונצקיית מעבר שאלה
		
			stage.removeChild(stage.getChildByName("check_btn")); //הסרת אלמנט שנוצר מעצירת המשחק או כתוצאה שנגמר הזמן
			stage.removeChild(stage.getChildByName("notime_text")); //הסרת אלמנט שנוצר מעצירת המשחק או כתוצאה שנגמר הזמן
			stage.removeChild(stage.getChildByName("notime_btn")); //הסרת אלמנט שנוצר מעצירת המשחק או כתוצאה שנגמר הזמן
			stage.removeChild(stage.getChildByName("continue_btn")); //הסרת אלמנט שנוצר מעצירת המשחק או כתוצאה שנגמר הזמן
			stage.removeChild(stage.getChildByName("envelop_open")); //הסרת אלמנט שנוצר מעצירת המשחק או כתוצאה שנגמר הזמן
			(stage.getChildByName("bg_building")).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			(stage.getChildByName("progressText")).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			(stage.getChildByName("proress_icon")).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			(stage.getChildByName("time_icon")).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			(stage.getChildByName("clocktime")).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			(stage.getChildByName("bg_mail_man")).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			(stage.getChildByName("bg_mailboard")).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			(stage.getChildByName("bg_instructions")).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			(stage.getChildByName("question" + q_num)).visible = true; //חשיפת אלמנט שהוסתר כתוצאה מעצירת המשחק או שנגמר הזמן
			for (i = 0; i < myGame[q_num][1].length; i++) { //חשיפת המסיחים
				(stage.getChildByName("answer" + i)).visible = true;
			}
		
		
			for (i = 0; i <= myGame[q_num][1].length; i++) { // //מחיקת כל המסיחים מהבמה
				stage.removeChild(stage.getChildByName("answer" + i));
			}
			if (good) { //אם תשובה נכונה , הוצאת התשובה מהמערך והחזרת הערך לבדיקת המשתנה האחרון למצב false
				myGame.splice(q_num, 1);
				good = false;
			}
		
		
			if (myGame.length == 0) { //אם המערך נגמר, העברה לפונקציה של סיום משחק
				finalScreen(); //פונקציה לסיום משחק
			} else {
				createquestions(); //פונקציית יצירת שאלה חדש
			}
		}
		
		function timer() { //פונקציה לחישוב הזמן - כל שנייה
			sec--; //הורדת מד השניות ב-1
		
			//console.log(sec);
			//הצגה של זמן מתעדכן בתיבת הטקסט
			clockTxt.text = "00:" + sec;
			//אם השניות קטנות מ10 תציג לי אפס בספרת העשרות מבחינת נראות
			if (sec < 10) {
				clockTxt.text = "00:0" + sec;
			}
			//אם המשתמש הגיע ל0 שניות כלומר נגמר לו הזמן- נציג לו את מסך נגמר הזמן
			if (sec == 0) {
				//יצירת מסך נגמר הזמן
				timeout();
				//עצירת אינטרוול
				clearInterval(interval);
		
			}
			sumSec++; //סכימת כמות השניות
		
		}
		
		//פונקציית נגמר הזמן
		function timeout() {
		
			(stage.getChildByName("bg_building")).visible = false; //הסתרת אלמנט
			(stage.getChildByName("progressText")).visible = false; //הסתרת אלמנט
			(stage.getChildByName("proress_icon")).visible = false; //הסתרת אלמנט
			(stage.getChildByName("time_icon")).visible = false; //הסתרת אלמנט
			(stage.getChildByName("clocktime")).visible = false; //הסתרת אלמנט
			(stage.getChildByName("bg_mail_man")).visible = false; //הסתרת אלמנט
			(stage.getChildByName("bg_mailboard")).visible = false; //הסתרת אלמנט
			(stage.getChildByName("bg_instructions")).visible = false; //הסתרת אלמנט
			(stage.getChildByName("question" + q_num)).visible = false; //הסתרת אלמנט
			for (i = 0; i < myGame[q_num][1].length; i++) { //הסתרת אלמנטים
				(stage.getChildByName("answer" + i)).visible = false;
			}
			//עצירת האינטרוול
			clearInterval(interval);
		
			var envelop_open = new lib.envelop_open(); //יצירת מעטפה על הבמה
			stage.addChild(envelop_open);
			envelop_open.name = "envelop_open";
			envelop_open.x = 370;
			envelop_open.scaleX = 3;
			envelop_open.scaleY = 3;
		
			var notime = new createjs.Text(); //טקסט נגמר הזמן המופיעה על המעטפה
			envelop_open.addChild(notime);
			notime.name = "notime_text";
			notime.text = "אופס נגמר הזמן";
			notime.font = "12pt Varela Round";
			notime.color = "#225D77";
			notime.x = 10;
			notime.y = 65;
		
			var button = new lib.check; //פונקציה להמשך משחק
			stage.addChild(button);
			button.gotoAndStop(0);
			button.name = "notime_btn";
			button.x = 550;
			button.y = 300;
			var check_text = new createjs.Text();
			check_text.name = "button_text";
			button.addChild(check_text);
			check_text.text = "המשך";
			check_text.y = -7
			check_text.textAlign = "center";
			check_text.color = "#FFFFFF";
			check_text.font = "18px Varela Round";
		
		
			button.addEventListener("click", nextquestion); //מעבר לחיצה על העכבר לפונצקיית מעבר שאלה
		}
		
		//פונקציה להצגת כמות הזמן שהמשתמש שיחק
		function calcTime(seconds) {
			var time = "";
			var minutse = parseInt(seconds / 60); //משתנה המכיל מספר שלם של הדקות 
			var shniot = seconds % 60; //משתנה המכיל את השארית כלומר את השניות
		
			if (minutse < 10) { //אם הדקות הן מספר חד ספרתי- נוסיף אפס לפני
				minutse = "0" + minutse;
			}
			if (shniot < 10) { //אם השניות הן מספר חד ספרתי- נוסיף אפס לפני
				shniot = "0" + shniot;
			}
			time = minutse + ":" + shniot;
			return time; //החזרת הזמן כולל תצוגה תקינה
		}
		
		//פונקציית לחיצה על כפתור השהייה
		function pauseFunc(evt) {
		
			var envelop_open = new lib.envelop_open(); //יצירת מעטפה על הבמה
			stage.addChild(envelop_open);
			envelop_open.name = "envelop_open";
			envelop_open.x = 370;
			envelop_open.scaleX = 3;
			envelop_open.scaleY = 3;
			(stage.getChildByName("bg_building")).visible = false; //הסתרת אלמנט על הבמה
			(stage.getChildByName("progressText")).visible = false; //הסתרת אלמנט על הבמה
			(stage.getChildByName("proress_icon")).visible = false; //הסתרת אלמנט על הבמה
			(stage.getChildByName("time_icon")).visible = false; //הסתרת אלמנט על הבמה
			(stage.getChildByName("clocktime")).visible = false; //הסתרת אלמנט על הבמה
			(stage.getChildByName("bg_mail_man")).visible = false; //הסתרת אלמנט על הבמה
			(stage.getChildByName("bg_mailboard")).visible = false; //הסתרת אלמנט על הבמה
			(stage.getChildByName("bg_instructions")).visible = false; //הסתרת אלמנט על הבמה
			(stage.getChildByName("question" + q_num)).visible = false; //הסתרת אלמנט על הבמה
			for (i = 0; i < myGame[q_num][1].length; i++) { //הסתרת אלמנט על הבמה
				(stage.getChildByName("answer" + i)).visible = false;
			}
			//עצירת האינטרוול
			clearInterval(interval);
		
			var pause_text = new createjs.Text; //יצירת טקסט במעטפה
			stage.addChild(pause_text);
			pause_text.name = "pause_text";
			pause_text.text = "דוד עצר לשתות קפה \n כבר ימשיך במשימתו";
			pause_text.textAlign = "center";
			pause_text.color = "#225D77";
			pause_text.font = "25px Varela Round";
			pause_text.x = 555;
			pause_text.y = 180;
		
		
			var coffee = new lib.coffee_cup; //הוספת אייקון של עצירת משחק
			coffee.name = "coffee";
			stage.addChild(coffee);
			coffee.x = 560;
			coffee.y = 300;
		
			var button = new lib.check; //הוספת כפתור המשך
			stage.addChild(button);
			button.gotoAndStop(0);
			button.name = "continue_button";
			button.x = 560;
			button.y = 400;
			var check_text = new createjs.Text();
			check_text.name = "button_text";
			button.addChild(check_text);
			check_text.text = "המשך";
			check_text.textAlign = "center";
			check_text.color = "#FFFFFF";
			check_text.font = "20px Varela Round";
			check_text.y = -7;
			button.addEventListener("click", endPause); //יצירת אירוע לחיצה למעבר לפונקציית המשך
		
		
		}
		//פונקציית כפתור המשך 
		function endPause() {
			//מפעילה את אינטרוול הזמן מאותה הנקודה שנעצרה לפני כן
			interval = setInterval(timer, 1000);
			stage.removeChild((stage.getChildByName("envelop_open"))); //הסרת המעטפה
			stage.removeChild((stage.getChildByName("pause_text"))); //הסרת טקסט המעטפה
			stage.removeChild((stage.getChildByName("coffee"))); //הסרת אייקון 
			stage.removeChild((stage.getChildByName("continue_button"))); //הסרת כפתור
			(stage.getChildByName("progressText")).visible = true; //הצגת האלמנט שהוסתר
			(stage.getChildByName("bg_building")).visible = true; //הצגת האלמנט שהוסתר
			(stage.getChildByName("proress_icon")).visible = true; //הצגת האלמנט שהוסתר
			(stage.getChildByName("time_icon")).visible = true; //הצגת האלמנט שהוסתר
			(stage.getChildByName("clocktime")).visible = true; //הצגת האלמנט שהוסתר
			(stage.getChildByName("bg_mail_man")).visible = true; //הצגת האלמנט שהוסתר
			(stage.getChildByName("bg_mailboard")).visible = true; //הצגת האלמנט שהוסתר
			(stage.getChildByName("bg_instructions")).visible = true; //הצגת האלמנט שהוסתר
			(stage.getChildByName("question" + q_num)).visible = true; //הצגת האלמנט שהוסתר
			for (i = 0; i < myGame[q_num][1].length; i++) { //הצגת האלמנט שהוסתר
				(stage.getChildByName("answer" + i)).visible = true;
			}
		}
		
		function imgOver(evt) { //פונקציית מעבר עכבר להגדלת תמונה
			img = evt.currentTarget;
			img.scaleX = 2;
			img.scaleY = 2;
		}
		
		function imgOut(evt) { //פונקציית יציאה ממעבר עכבר החזרת תמונה לגודל מקורי
			img = evt.currentTarget;
			img.scaleX = 1;
			img.scaleY = 1;
		}
		
		function playAgain() { //פונקצית למשחק חוזר
			grade = 0; //איפוס הציון
			q_sum = 1; //איפוס סכימת השאלות שנענו נכונה
			mistakes_counter = 0; // איפוס טעויות
			sumSec = 0; //איפוס סכימת השניות
		
			stage.removeChild(stage.getChildByName("envelop_open")); //הסרת המעטפה מהבמה
			stage.removeChild(stage.getChildByName("repeat_button")); //הסרת כפתור מהבמה
			stage.removeChild(stage.getChildByName("new_game_button")); //הסרת כפתור מהבמה
			var shop = new lib.bg_shop; //הוספת חנות לבמה
			stage.addChild(shop);
			shop.y = 70;
			shop.x = 70;
			shop.scaleX = 3;
			shop.scaleY = 3;
		
			var bg_mailman = new lib.mailman_opening; //הוספת דוור לבמה
			stage.addChild(bg_mailman);
			bg_mailman.y = 400;
			bg_mailman.x = 400;
			bg_mailman.scaleX = 0.9;
			bg_mailman.scaleY = 0.9;
		
			var envelop_open = new lib.envelop_open(); //הוספת מעטפה לבמה
			stage.addChild(envelop_open);
			envelop_open.name = "envelop_open";
			envelop_open.x = 700;
			envelop_open.scaleX = 2.8;
			envelop_open.scaleY = 2.8;
		
			var type = new createjs.Text(); //יצירת טקסט במטעפה עם סוג המשחק
			envelop_open.addChild(type);
			type.text = game_type;
			type.font = "12pt Varela Round";
			type.x = 15;
			type.y = 70;
			type.color = "#225D77"
		
			var envelop_open_text = new createjs.Text; //יצירת טקסט הוראות במטעפה
			envelop_open.addChild(envelop_open_text);
			envelop_open_text.text = "לחץ “התחל” על מנת להתחיל לשחק";
			envelop_open_text.textAlign = "center";
			envelop_open_text.font = "5pt Varela Round";
			envelop_open_text.x = 70;
			envelop_open_text.y = 100;
		
			var button = new lib.check; //הוספת כפתור לבמה
			button.gotoAndStop(0);
			stage.addChild(button);
			button.name = "button";
			button.x = 890;
			button.y = 340;
			var start_text = new createjs.Text();
			button.addChild(start_text);
			start_text.text = "התחל";
			start_text.textAlign = "center";
			start_text.color = "#FFFFFF";
			start_text.font = "20px Varela Round";
			start_text.y = -7;
		
		
			if (game_type == "היסטוריה ארץ ישראל") { //בדיקה איזה סוג משחק נבחר ושליפת הפונקציה הנכונה
				firstGameFunc();
			} else {
				secondGameFunc();
			}
		}
		
		
		function finalScreen() { //פונקציית סוף משחק
		
			(stage.getChildByName("bg_building")).visible = false; //הסתרת אלמנט מהבמה
			(stage.getChildByName("progressText")).visible = false; //הסתרת אלמנט מהבמה
			(stage.getChildByName("proress_icon")).visible = false; //הסתרת אלמנט מהבמה
			(stage.getChildByName("time_icon")).visible = false; //הסתרת אלמנט מהבמה
			(stage.getChildByName("clocktime")).visible = false; //הסתרת אלמנט מהבמה
			(stage.getChildByName("bg_mail_man")).visible = false; //הסתרת אלמנט מהבמה
			(stage.getChildByName("bg_mailboard")).visible = false; //הסתרת אלמנט מהבמה
			(stage.getChildByName("bg_instructions")).visible = false; //הסתרת אלמנט מהבמה
			(stage.getChildByName("question" + q_num)).visible = false; //הסתרת אלמנט מהבמה
		
			var envelop_open = new lib.envelop_open(); //הוספת מעטפה לבמה
			stage.addChild(envelop_open);
			envelop_open.name = "envelop_open";
			envelop_open.x = 370;
			envelop_open.scaleX = 3;
			envelop_open.scaleY = 3;
		
			var final_headline = new createjs.Text(); //הוספת טקסט לבמה
			envelop_open.addChild(final_headline);
			final_headline.text = "כל הכבוד \n דוד הדוור הצליח לחלק את כל המכתבים בהצלחה";
			final_headline.textAlign = "center"
			final_headline.font = "6pt Varela Round";
			final_headline.x = 60;
			final_headline.y = 75;
			final_headline.color = "#225D77";
		
			var final_misktaes = new createjs.Text(); //הצגת מספר טעויות
			envelop_open.addChild(final_misktaes);
			final_misktaes.text = "מספר טעויות\n" + mistakes_counter;
			final_misktaes.font = "4pt Varela Round";
			final_misktaes.textAlign = "right";
			final_misktaes.x = 140;
			final_misktaes.y = 110;
		
			var final_time = new createjs.Text(); //הצגת זמן כולל
			envelop_open.addChild(final_time);
			final_time.text = "זמן\n" + sumSec;
			final_time.font = "4pt Varela Round";
			final_time.textAlign = "right";
			final_time.x = 70;
			final_time.y = 110;
		
			var final_grade = new createjs.Text(); //הצגת ציון כולל
			envelop_open.addChild(final_grade);
			final_grade.text = "ציון\n" + grade;
			final_grade.font = "4pt Varela Round";
			final_grade.textAlign = "right";
			final_grade.x = 20;
			final_grade.y = 110;
		
			var repeat_button = new lib.check; //הוספת כפתור למשחק חוזר
			stage.addChild(repeat_button);
			repeat_button.gotoAndStop(0);
			repeat_button.name = "repeat_button";
			repeat_button.x = 560;
			repeat_button.y = 500;
			var repeat_text = new createjs.Text();
			repeat_text.name = "repeat_text";
			repeat_button.addChild(repeat_text);
			repeat_text.text = "שחק שוב"
			repeat_text.textAlign = "center";
			repeat_text.color = "#FFFFFF";
			repeat_text.y = -7;
			repeat_text.font = "20px Varela Round";
			repeat_button.addEventListener("click", playAgain);
		
			var new_game_button = new lib.check; //הוספת כפתור למשחק חדש
			stage.addChild(new_game_button);
			new_game_button.gotoAndStop(0);
			new_game_button.name = "new_game_button";
			new_game_button.x = 560;
			new_game_button.y = 570;
			var new_game_text = new createjs.Text();
			new_game_button.addChild(new_game_text);
			new_game_text.text = "משחק חדש";
			new_game_text.textAlign = "center";
			new_game_text.color = "#FFFFFF";
			new_game_text.y = -7;
			new_game_text.font = "20px Arial";
			new_game_button.addEventListener("click", clear);
		}
		
		function clear() { //פונקציית נקיון
			grade = 0; //איפוס ציון
			q_sum = 1; //איפוס סכימת השאלות שנענו נכונה
			mistakes_counter = 0; // איפוס מספר טעויות
			sumSec = 0; //איפוס סכימת הזמם
			stage.removeAllChildren(); //הסרת כל האלמנטים מהבמה
			createBG(); //קריאה לפונקציה התחלתית של יצירת כל האלמנטים הראשוניים על המסך
		}
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));

	// Camera
	this.___camera___instance = new lib.___Camera___();
	this.___camera___instance.name = "___camera___instance";
	this.___camera___instance.parent = this;
	this.___camera___instance.setTransform(641,361);
	this.___camera___instance.depth = 0;

	this.timeline.addTween(cjs.Tween.get(this.___camera___instance).wait(1));

	// Group.svg
	this.instance = new lib.bg();
	this.instance.parent = this;
	this.instance.setTransform(640.5,332.3,1,1,0,0,0,641.5,362.5);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(639,329.8,1283,752.3);
// library properties:
lib.properties = {
	id: 'D6121081ADF0354D90C6E124D57038E7',
	width: 1280,
	height: 720,
	fps: 24,
	color: "#FFFFFF",
	opacity: 1.00,
	manifest: [
		{src:"images/postbox_atlas_.png?1582551354636", id:"postbox_atlas_"},
		{src:"https://code.jquery.com/jquery-2.2.4.min.js?1582551354782", id:"lib/jquery-2.2.4.min.js"},
		{src:"components/sdk/anwidget.js?1582551354782", id:"sdk/anwidget.js"},
		{src:"components/ui/src/combobox.js?1582551354782", id:"an.ComboBox"}
	],
	preloads: []
};



// bootstrap callback support:

(lib.Stage = function(canvas) {
	createjs.Stage.call(this, canvas);
}).prototype = p = new createjs.Stage();

p.setAutoPlay = function(autoPlay) {
	this.tickEnabled = autoPlay;
}
p.play = function() { this.tickEnabled = true; this.getChildAt(0).gotoAndPlay(this.getTimelinePosition()) }
p.stop = function(ms) { if(ms) this.seek(ms); this.tickEnabled = false; }
p.seek = function(ms) { this.tickEnabled = true; this.getChildAt(0).gotoAndStop(lib.properties.fps * ms / 1000); }
p.getDuration = function() { return this.getChildAt(0).totalFrames / lib.properties.fps * 1000; }

p.getTimelinePosition = function() { return this.getChildAt(0).currentFrame / lib.properties.fps * 1000; }

an.bootcompsLoaded = an.bootcompsLoaded || [];
if(!an.bootstrapListeners) {
	an.bootstrapListeners=[];
}

an.bootstrapCallback=function(fnCallback) {
	an.bootstrapListeners.push(fnCallback);
	if(an.bootcompsLoaded.length > 0) {
		for(var i=0; i<an.bootcompsLoaded.length; ++i) {
			fnCallback(an.bootcompsLoaded[i]);
		}
	}
};

an.compositions = an.compositions || {};
an.compositions['D6121081ADF0354D90C6E124D57038E7'] = {
	getStage: function() { return exportRoot.getStage(); },
	getLibrary: function() { return lib; },
	getSpriteSheet: function() { return ss; },
	getImages: function() { return img; }
};

an.compositionLoaded = function(id) {
	an.bootcompsLoaded.push(id);
	for(var j=0; j<an.bootstrapListeners.length; j++) {
		an.bootstrapListeners[j](id);
	}
}

an.getComposition = function(id) {
	return an.compositions[id];
}


// Virtual camera API : 

AdobeAn.VirtualCamera = new function() {
	var _camera = new Object();
	function VirtualCamera(timeline) {
	this.timeline = timeline;
	this.camera = timeline.___camera___instance;
	this.centerX = lib.properties.width / 2;
	this.centerY = lib.properties.height / 2;
	this.camAxisX = this.camera.x;
	this.camAxisY = this.camera.y;
	if(timeline.___camera___instance == null || timeline.___camera___instance == undefined )
	{
		timeline.___camera___instance = new cjs.MovieClip();
		timeline.___camera___instance.visible = false;
		timeline.___camera___instance.parent = timeline;
		timeline.___camera___instance.setTransform(this.centerX, this.centerY);
	}
	this.camera = timeline.___camera___instance;
}

VirtualCamera.prototype.moveBy = function(x, y, z) {
z = typeof z !== 'undefined' ? z : 0;
	var position = this.___getCamPosition___();
	var rotAngle = this.getRotation()*Math.PI/180;
	var sinTheta = Math.sin(rotAngle);
	var cosTheta = Math.cos(rotAngle);
	var offX= x*cosTheta + y*sinTheta;
	var offY = y*cosTheta - x*sinTheta;
	this.camAxisX = this.camAxisX - x;
	this.camAxisY = this.camAxisY - y;
	var posX = position.x + offX;
	var posY = position.y + offY;
	this.camera.x = this.centerX - posX;
	this.camera.y = this.centerY - posY;
	this.camera.depth += z;
};

VirtualCamera.prototype.setPosition = function(x, y, z) {
	z = typeof z !== 'undefined' ? z : 0;

	const MAX_X = 10000;
	const MIN_X = -10000;
	const MAX_Y = 10000;
	const MIN_Y = -10000;
	const MAX_Z = 10000;
	const MIN_Z = -5000;

	if(x > MAX_X)
	  x = MAX_X;
	else if(x < MIN_X)
	  x = MIN_X;
	if(y > MAX_Y)
	  y = MAX_Y;
	else if(y < MIN_Y)
	  y = MIN_Y;
	if(z > MAX_Z)
	  z = MAX_Z;
	else if(z < MIN_Z)
	  z = MIN_Z;

	var rotAngle = this.getRotation()*Math.PI/180;
	var sinTheta = Math.sin(rotAngle);
	var cosTheta = Math.cos(rotAngle);
	var offX= x*cosTheta + y*sinTheta;
	var offY = y*cosTheta - x*sinTheta;
	
	this.camAxisX = this.centerX - x;
	this.camAxisY = this.centerY - y;
	this.camera.x = this.centerX - offX;
	this.camera.y = this.centerY - offY;
	this.camera.depth = z;
};

VirtualCamera.prototype.getPosition = function() {
	var loc = new Object();
	loc['x'] = this.centerX - this.camAxisX;
	loc['y'] = this.centerY - this.camAxisY;
	loc['z'] = this.camera.depth;
	return loc;
};

VirtualCamera.prototype.resetPosition = function() {
	this.setPosition(0, 0);
};

VirtualCamera.prototype.zoomBy = function(zoom) {
	this.setZoom( (this.getZoom() * zoom) / 100);
};

VirtualCamera.prototype.setZoom = function(zoom) {
	const MAX_zoom = 10000;
	const MIN_zoom = 1;
	if(zoom > MAX_zoom)
	zoom = MAX_zoom;
	else if(zoom < MIN_zoom)
	zoom = MIN_zoom;
	this.camera.scaleX = 100 / zoom;
	this.camera.scaleY = 100 / zoom;
};

VirtualCamera.prototype.getZoom = function() {
	return 100 / this.camera.scaleX;
};

VirtualCamera.prototype.resetZoom = function() {
	this.setZoom(100);
};

VirtualCamera.prototype.rotateBy = function(angle) {
	this.setRotation( this.getRotation() + angle );
};

VirtualCamera.prototype.setRotation = function(angle) {
	const MAX_angle = 180;
	const MIN_angle = -179;
	if(angle > MAX_angle)
		angle = MAX_angle;
	else if(angle < MIN_angle)
		angle = MIN_angle;
	this.camera.rotation = -angle;
};

VirtualCamera.prototype.getRotation = function() {
	return -this.camera.rotation;
};

VirtualCamera.prototype.resetRotation = function() {
this.setRotation(0);
};

VirtualCamera.prototype.reset = function() {
	this.resetPosition();
	this.resetZoom();
	this.resetRotation();
	this.unpinCamera();
};
VirtualCamera.prototype.setZDepth = function(zDepth) {
	const MAX_zDepth = 10000;
	const MIN_zDepth = -5000;
	if(zDepth > MAX_zDepth)
		zDepth = MAX_zDepth;
	else if(zDepth < MIN_zDepth)
		zDepth = MIN_zDepth;
	this.camera.depth = zDepth;
}
VirtualCamera.prototype.getZDepth = function() {
	return this.camera.depth;
}
VirtualCamera.prototype.resetZDepth = function() {
	this.camera.depth = 0;
}

VirtualCamera.prototype.pinCameraToObject = function(obj, offsetX, offsetY, offsetZ) {

	offsetX = typeof offsetX !== 'undefined' ? offsetX : 0;

	offsetY = typeof offsetY !== 'undefined' ? offsetY : 0;

	offsetZ = typeof offsetZ !== 'undefined' ? offsetZ : 0;
	if(obj === undefined)
		return;
	this.camera.pinToObject = obj;
	this.camera.pinToObject.pinOffsetX = offsetX;
	this.camera.pinToObject.pinOffsetY = offsetY;
	this.camera.pinToObject.pinOffsetZ = offsetZ;
};

VirtualCamera.prototype.setPinOffset = function(offsetX, offsetY, offsetZ) {
if(this.camera.pinToObject != undefined) {
this.camera.pinToObject.pinOffsetX = offsetX;
this.camera.pinToObject.pinOffsetY = offsetY;
this.camera.pinToObject.pinOffsetZ = offsetZ;
}
};

VirtualCamera.prototype.unpinCamera = function() {
this.camera.pinToObject = undefined;
};

this.getCamera = function(timeline) {
	timeline = typeof timeline !== 'undefined' ? timeline : null;
	if(timeline === null) timeline = exportRoot;
	if(_camera[timeline] == undefined)
	_camera[timeline] = new VirtualCamera(timeline);
	return _camera[timeline];
}

this.getCameraAsMovieClip = function(timeline) {
	timeline = typeof timeline !== 'undefined' ? timeline : null;
	if(timeline === null) timeline = exportRoot;
	return this.getCamera(timeline).camera;
}
VirtualCamera.prototype.___getCamPosition___ = function() {
	var loc = new Object();
	loc['x'] = this.centerX - this.camera.x;
	loc['y'] = this.centerY - this.camera.y;
	loc['z'] = this.depth;
	return loc;
};
}

function _updateVisibility(evt) {
	if((this.getStage() == null || this._off || this._lastAddedFrame != this.parent.currentFrame) && this._element) {
		this._element.detach();
		stage.removeEventListener('drawstart', this._updateVisibilityCbk);
		this._updateVisibilityCbk = false;
	}
}
function _handleDrawEnd(evt) {
	var props = this.getConcatenatedDisplayProps(this._props), mat = props.matrix;
	var tx1 = mat.decompose(); var sx = tx1.scaleX; var sy = tx1.scaleY;
	var dp = window.devicePixelRatio || 1; var w = this.nominalBounds.width * sx; var h = this.nominalBounds.height * sy;
	mat.tx/=dp;mat.ty/=dp; mat.a/=(dp*sx);mat.b/=(dp*sx);mat.c/=(dp*sy);mat.d/=(dp*sy);
	this._element.setProperty('transform-origin', this.regX + 'px ' + this.regY + 'px');
	var x = (mat.tx + this.regX*mat.a + this.regY*mat.c - this.regX);
	var y = (mat.ty + this.regX*mat.b + this.regY*mat.d - this.regY);
	var tx = 'matrix(' + mat.a + ',' + mat.b + ',' + mat.c + ',' + mat.d + ',' + x + ',' + y + ')';
	this._element.setProperty('transform', tx);
	this._element.setProperty('width', w);
	this._element.setProperty('height', h);
	this._element.update();
}

function _tick(evt) {
	var stage = this.getStage();
	stage&&stage.on('drawend', this._handleDrawEnd, this, true);
	if(!this._updateVisibilityCbk) {
		this._updateVisibilityCbk = stage.on('drawstart', this._updateVisibility, this, false);
	}
}


})(createjs = createjs||{}, AdobeAn = AdobeAn||{});
var createjs, AdobeAn;